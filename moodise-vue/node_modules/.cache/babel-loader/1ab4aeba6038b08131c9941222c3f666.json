{"remainingRequest":"/Users/valeriya/Documents/my_projects/moodise/moodise-vue/node_modules/babel-loader/lib/index.js!/Users/valeriya/Documents/my_projects/moodise/moodise-vue/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/valeriya/Documents/my_projects/moodise/moodise-vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/valeriya/Documents/my_projects/moodise/moodise-vue/src/components/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/valeriya/Documents/my_projects/moodise/moodise-vue/src/components/Login.vue","mtime":1641217733585},{"path":"/Users/valeriya/Documents/my_projects/moodise/moodise-vue/babel.config.js","mtime":1640773801303},{"path":"/Users/valeriya/Documents/my_projects/moodise/moodise-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/valeriya/Documents/my_projects/moodise/moodise-vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/valeriya/Documents/my_projects/moodise/moodise-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/valeriya/Documents/my_projects/moodise/moodise-vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL3ZhbGVyaXlhL0RvY3VtZW50cy9teV9wcm9qZWN0cy9tb29kaXNlL21vb2Rpc2UtdnVlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vIGltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCB7IG1hcEFjdGlvbnMgfSBmcm9tICd2dWV4JzsKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7CiAgICBpc0xvZ2dlZEluOiBCb29sZWFuCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZm9ybTogewogICAgICAgIG5hbWU6ICIiLAogICAgICAgIHRoZW1lOiAiIgogICAgICB9LAogICAgICBlcnJvck1lc3NhZ2VzOiB7fQogICAgfTsKICB9LAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwQWN0aW9ucyhbImNyZWF0ZVBvc3QiXSkpLCB7fSwgewogICAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKCkgewogICAgICB0aGlzLmNyZWF0ZVBvc3QoewogICAgICAgIG5hbWU6IHRoaXMuZm9ybS5uYW1lLAogICAgICAgIHRoZW1lOiB0aGlzLmZvcm0udGhlbWUKICAgICAgfSksIHRoaXMubmFtZSA9IHRoaXMudGhlbWUgPSAnJzsgLy8gICBheGlvcwogICAgICAvLyAgICAgLnBvc3QoImh0dHA6Ly8xMjcuMC4wLjE6ODAwMC9waXRjaC9hdXRoL2xvZ2luIiwgdGhpcy5mb3JtKQogICAgICAvLyAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgIC8vICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpOwogICAgICAvLyAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgKICAgICAgLy8gICAgICAgICAidG9rZW4iLAogICAgICAvLyAgICAgICAgIEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlLmRhdGFbImF1dGhfdG9rZW4iXSkKICAgICAgLy8gICAgICAgKTsKICAgICAgLy8gICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImlkIiwgcmVzcG9uc2UuZGF0YVsiaWQiXSk7CiAgICAgIC8vICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ1c2VybmFtZSIsIHJlc3BvbnNlLmRhdGFbInVzZXJuYW1lIl0pOwogICAgICAvLyAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiZW1haWwiLCByZXNwb25zZS5kYXRhWyJlbWFpbCJdKTsKICAgICAgLy8gICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oInByb2ZpbGVJZCIsIHJlc3BvbnNlLmRhdGFbInByb2ZpbGUiXVsiaWQiXSk7CiAgICAgIC8vICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJyb2xlIiwgcmVzcG9uc2UuZGF0YVsicHJvZmlsZSJdWyJyb2xlIl0pOwogICAgICAvLyAgICAgICB0aGlzLmlzTG9nZ2VkSW4gPSB0cnVlOwogICAgICAvLyAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL3BpdGNoIik7CiAgICAgIC8vICAgICB9KQogICAgICAvLyAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAvLyAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UgJiYgZXJyb3IucmVzcG9uc2Uuc3RhdHVzID09IDQwMCkgewogICAgICAvLyAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yLnJlc3BvbnNlKTsKICAgICAgLy8gICAgICAgICB0aGlzLmVycm9yTWVzc2FnZXMgPSBlcnJvci5yZXNwb25zZS5kYXRhCiAgICAgIC8vICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlLmRhdGEgaW5zdGFuY2VvZiBBcnJheSkgewogICAgICAvLyAgICAgICAgICAgdGhpcy4kYnZNb2RhbC5zaG93KCdlcnJvci1tb2RhbCcpCiAgICAgIC8vICAgICAgICAgfQogICAgICAvLyAgICAgICB9CiAgICAgIC8vICAgICB9KTsKICAgIH0KICB9KQp9Ow=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoEA;AACA,SAAA,UAAA,QAAA,MAAA;AAEA,eAAA;AACA,EAAA,KAAA,EAAA;AACA,IAAA,UAAA,EAAA;AADA,GADA;AAIA,EAAA,IAJA,kBAIA;AACA,WAAA;AACA,MAAA,IAAA,EAAA;AACA,QAAA,IAAA,EAAA,EADA;AAEA,QAAA,KAAA,EAAA;AAFA,OADA;AAKA,MAAA,aAAA,EAAA;AALA,KAAA;AAOA,GAZA;AAaA,EAAA,OAAA,kCACA,UAAA,CAAA,CAAA,YAAA,CAAA,CADA;AAEA,IAAA,KAFA,mBAEA;AACA,WAAA,UAAA,CAAA;AACA,QAAA,IAAA,EAAA,KAAA,IAAA,CAAA,IADA;AAEA,QAAA,KAAA,EAAA,KAAA,IAAA,CAAA;AAFA,OAAA,GAIA,KAAA,IAAA,GAAA,KAAA,KAAA,GAAA,EAJA,CADA,CAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAnCA;AAbA,CAAA","sourcesContent":["<template>\n  <div class=\"container\">\n    <h1 class=\"text-center mt-4 mb-4\">Log in</h1>\n\n    <b-form>\n      <b-form-group>\n        <b-form-group id=\"input-group-1\" label=\"Username\" label-for=\"input-1\">\n          <b-form-input\n            id=\"input-1\"\n            v-model=\"form.name\"\n            type=\"text\"\n            placeholder=\"Enter name\"\n            required\n            trim\n          ></b-form-input>\n\n          <b-form-text\n            v-for=\"(message, index) in errorMessages.username\"\n            :key=\"index\"\n            :id=\"`input-1-error-${index}`\"\n          >\n            <span class=\"error-message\">{{ message }}</span>\n          </b-form-text>\n        </b-form-group>\n\n        <b-form-group\n          id=\"input-group-2\"\n          label=\"Password\"\n          label-for=\"input-2\"\n          description=\"Your password must be 8-20 characters long, contain letters andnumbers, and must not contain spaces, special characters, or emoji.\">\n          <b-form-input\n            v-model=\"form.theme\"\n            type=\"password\"\n            id=\"input-2\"\n            placeholder=\"Enter theme\"\n            trim\n          ></b-form-input>\n\n          <b-form-text\n            v-for=\"(message, index) in errorMessages.password\"\n            :key=\"index\"\n            :id=\"`input-2-error-${index}`\"\n          >\n            <span class=\"error-message\">{{ message }}</span>\n          </b-form-text>\n        </b-form-group>\n      </b-form-group>\n    </b-form>\n\n    <div class=\"row mt-4 justify-content-center\">\n      <b-link href=\"/pitch/register\" class=\"card-link\">Register</b-link>\n    </div>\n\n    <div class=\"row mt-4 justify-content-center\">\n      <b-button v-on:click.prevent=\"login\" variant=\"secondary\">Submit</b-button>\n    </div>\n\n    <b-modal id=\"error-modal\" hide-header hide-footer>\n      <div class=\"d-block text-center\">\n        <h4 class=\"mb-4\">Error</h4>\n        <div v-for=\"(message, index) in this.errorMessages\" :key=\"index\">{{ message }}</div>\n      </div>\n      <b-button class=\"mt-4\" block @click=\"$bvModal.hide('error-modal')\">Ok</b-button>\n    </b-modal>\n  </div>\n</template>\n\n<script>\n// import axios from \"axios\";\nimport {mapActions} from 'vuex'\n\nexport default {\n  props: {\n    isLoggedIn: Boolean,\n  },\n  data() {\n    return {\n      form: {\n        name: \"\",\n        theme: \"\",\n      },\n      errorMessages: {},\n    };\n  },\n  methods: {\n  ...mapActions([\"createPost\"]),\n    login() {\n        this.createPost({\n            name: this.form.name,\n            theme: this.form.theme\n        }),\n        this.name = this.theme = ''\n\n    //   axios\n    //     .post(\"http://127.0.0.1:8000/pitch/auth/login\", this.form)\n    //     .then((response) => {\n    //       console.log(response.data);\n    //       localStorage.setItem(\n    //         \"token\",\n    //         JSON.stringify(response.data[\"auth_token\"])\n    //       );\n    //       localStorage.setItem(\"id\", response.data[\"id\"]);\n    //       localStorage.setItem(\"username\", response.data[\"username\"]);\n    //       localStorage.setItem(\"email\", response.data[\"email\"]);\n    //       localStorage.setItem(\"profileId\", response.data[\"profile\"][\"id\"]);\n    //       localStorage.setItem(\"role\", response.data[\"profile\"][\"role\"]);\n    //       this.isLoggedIn = true;\n    //       this.$router.push(\"/pitch\");\n    //     })\n    //     .catch((error) => {\n    //       if (error.response && error.response.status == 400) {\n    //         console.log(error.response);\n    //         this.errorMessages = error.response.data\n\n    //         if (error.response.data instanceof Array) {\n    //           this.$bvModal.show('error-modal')\n    //         }\n    //       }\n    //     });\n    },\n  },\n};\n</script>\n"],"sourceRoot":"src/components"}]}